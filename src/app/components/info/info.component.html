<div class="container mt-5">
  <div class="row p-5" style="margin-left: 0">
    <div class="col-lg-2 mt-2 mb-2" *ngIf="getInfoResult.poster_path">
      <img
        src="https://image.tmdb.org/t/p/original/{{
          getInfoResult.poster_path
        }}"
      />
    </div>
    <div class="col-lg-10 mb-5">
      <h1 class="mb-1">{{ getInfoResult.original_title }}</h1>
      <h5 style="color: rgba(255, 255, 255, 0.3)" class="mb-1">
        Date: {{ getInfoResult.release_date }}
      </h5>

      <p class="mt-3 mb-3">{{ getInfoResult.overview }}</p>

      <div class="row mb-1">
        <div class="col-lg-12">
          <div class="d-flex align-items-center justify-content-start">
            <div class="d-flex align-items-center">
              <h4 class="indici">Runtime:</h4>
              <span class="text-white m-o text-nowrap"
                >{{ getInfoResult.runtime }} min</span
              >
            </div>
          </div>
        </div>
      </div>

      <div class="row mb-1">
        <div class="col-lg-12">
          <div class="d-flex align-items-center justify-content-start">
            <div class="d-flex align-items-center">
              <h4 class="indici">Avarage vote:</h4>
              <span class="text-white m-o">{{
                getInfoResult.vote_average
              }}</span>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-lg-12">
          <div class="d-flex align-items-center justify-content-start">
            <p class="text-white m-0">
              <ng-container *ngIf="getInfoResult.vote_average">
                <div class="d-flex align-items-center">
                  <h4 class="indici">Price:</h4>
                  <span>{{
                    getInfoResult.vote_average > 7 ? "$9.99" : "$5.99"
                  }}</span>
                </div>
              </ng-container>
            </p>
          </div>
        </div>
      </div>

      <button
        class="btn btn-primary btn"
        (click)="showConfirmationOverlay = true"
      >
        Buy
      </button>

      <span *ngIf="showConfirmationOverlay" class="confirmation-overlay">
        <div class="blur-content">
          <p class="mt-5">Are you sure you want to buy the film?</p>
          <div class="button-container">
            <button class="btn btn-confirm" (click)="addToPurchased()">
              Yes
            </button>
            <button class="btn btn-cancel" (click)="cancelPurchase()">
              No
            </button>
          </div>
        </div>
      </span>

      <p class="mb-3" *ngIf="message">{{ message }}</p>

      <div
        style="
          width: 100%;
          height: 0;
          position: relative;
          padding-bottom: 56.25%;
        "
      >
        <iframe
          style="position: absolute; width: 100%; height: 100%; top: 0; left: 0"
          [src]="getTrailerResult"
          frameborder="0"
          allowfullscreen
        ></iframe>
      </div>

      <div class="row mt-4 p-4">
        <h2 class="text-white">Top Cast</h2>
        <div class="row">
          <div
            class="col-lg-6 col-md-7 col-sm-8"
            *ngFor="let cast of getCastResult"
          >
            <div class="row mt-2 mb-2">
              <div
                class="col-lg-2 col-md-4 col-sm-12"
                *ngIf="cast.profile_path"
              >
                <img
                  src="https://image.tmdb.org/t/p/original/{{
                    cast.profile_path
                  }}"
                />
              </div>
              <div class="col-lg-10 col-md-8 col-sm-12">
                <h3 class="text-white">{{ cast.original_name }}</h3>
                <p class="text-white">{{ cast.character }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
